Разбить программу на отдельные классы (каждый класс в отдельном файле)
Для классов PassengerTrain и CargoTrain сделать родительский класс, который будет содержать общие методы и свойства.
Для классов вагонов сделать родительский класс, который тоже будет содержать общие методы и свойства.
 

Добавить текстовый интерфейс к программе:

 

Создать программу в файле main.rb, которая будет позволять пользователю через текстовый интерфейс делать следующее:

Создавать станции
Создавать поезда
Создавать маршруты и управлять станциями в нем (добавлять, удалять)
Назначать маршрут поезду
Добавлять вагоны к поезду
Отцеплять вагоны от поезда
Перемещать поезд по маршруту вперед и назад
Просматривать список станций и список поездов на станции
 

Каждый класс должен быть помещен в отдельный файл, а в файле main.rb можно подключить все остальные файлы-классы с помощью команды  

require
 

Подсказка: если все файлы находятся в одной папке вместе с файлом main.rb, можно подключать их с помощью  

require_relative
Чтобы запускать текстовый интерфейс и вызывать из него различные команды на создание станций/маршрутов/поездов и т.д., можно написать отдельный класс App, и в нем реализовать интерфейс и логику вызова нужных методов